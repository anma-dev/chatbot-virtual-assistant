import{b as o}from"./p-503c2549.js";let t=0;const n=o=>({create:t=>p(o,t),dismiss:(t,n,a)=>m(document,t,n,o,a),getTop:async()=>y(document,o)}),a=n("ion-alert"),e=n("ion-action-sheet"),i=n("ion-loading"),s=n("ion-modal"),c=n("ion-picker"),r=n("ion-popover"),d=n("ion-toast"),u=o=>{const n=document;l(n);const a=t++;o.overlayIndex=a,o.hasAttribute("id")||(o.id=`ion-overlay-${a}`)},p=(o,t)=>customElements.whenDefined(o).then(()=>{const n=document,a=n.createElement(o);return a.classList.add("overlay-hidden"),Object.assign(a,t),b(n).appendChild(a),a.componentOnReady()}),l=o=>{0===t&&(t=1,o.addEventListener("focusin",t=>{const n=y(o);if(n&&n.backdropDismiss&&!g(n,t.target)){const o=n.querySelector("input,button");o&&o.focus()}}),o.addEventListener("ionBackButton",t=>{const n=y(o);n&&n.backdropDismiss&&t.detail.register(100,()=>n.dismiss(void 0,B))}),o.addEventListener("keyup",t=>{if("Escape"===t.key){const t=y(o);t&&t.backdropDismiss&&t.dismiss(void 0,B)}}))},m=(o,t,n,a,e)=>{const i=y(o,a,e);return i?i.dismiss(t,n):Promise.reject("overlay does not exist")},y=(o,t,n)=>{const a=((o,t)=>(void 0===t&&(t="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(o.querySelectorAll(t)).filter(o=>o.overlayIndex>0)))(o,t);return void 0===n?a[a.length-1]:a.find(o=>o.id===n)},f=async(t,n,a,e,i)=>{if(t.presented)return;t.presented=!0,t.willPresent.emit();const s=t.enterAnimation?t.enterAnimation:o.get(n,"ios"===t.mode?a:e);await h(t,s,t.el,i)&&t.didPresent.emit()},v=async(t,n,a,e,i,s,c)=>{if(!t.presented)return!1;t.presented=!1;try{t.willDismiss.emit({data:n,role:a});const r=t.leaveAnimation?t.leaveAnimation:o.get(e,"ios"===t.mode?i:s);await h(t,r,t.el,c),t.didDismiss.emit({data:n,role:a})}catch(o){console.error(o)}return t.el.remove(),!0},b=o=>o.querySelector("ion-app")||o.body,h=async(t,n,a,e)=>{if(t.animation)return t.animation.destroy(),t.animation=void 0,!1;a.classList.remove("overlay-hidden");const i=a.shadowRoot||t.el;let s,c=!0;try{const o=await __sc_import_ionic("./p-ae28cb4b.js");s=await o.create(n,i,e)}catch(o){(s=n(i,e)).fill("both"),c=!1}t.animation=s,t.animated&&o.getBoolean("animated",!0)||s.duration(0),t.keyboardClose&&s.beforeAddWrite(()=>{const o=a.ownerDocument.activeElement;o&&o.matches("input, ion-input, ion-textarea")&&o.blur()});const r=await s.playAsync(),d="boolean"==typeof r?r:s.hasCompleted;return c&&s.destroy(),t.animation=void 0,d},k=(o,t)=>{let n;const a=new Promise(o=>n=o);return w(o,t,o=>{n(o.detail)}),a},w=(o,t,n)=>{const a=e=>{o.removeEventListener(t,a),n(e)};o.addEventListener(t,a)},_=o=>"cancel"===o||o===B,g=(o,t)=>{for(;t;){if(t===o)return!0;t=t.parentElement}return!1},j=o=>o(),x=(t,n)=>{if("function"==typeof t)return o.get("_zoneGate",j)(()=>{try{return t(n)}catch(o){console.error(o)}})},B="backdrop";export{B,a,e as b,r as c,u as d,f as e,v as f,k as g,p as h,_ as i,m as j,y as k,i as l,s as m,c as p,x as s,d as t};