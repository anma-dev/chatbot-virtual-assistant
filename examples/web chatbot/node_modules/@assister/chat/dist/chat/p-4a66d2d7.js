import{f as t}from"./p-2ea03d53.js";let o=0;const n=t=>({create:o=>i(t,o),dismiss:(o,n,e)=>u(document,o,n,t,e),getTop:async()=>d(document,t)}),e=n("ion-alert"),a=n("ion-action-sheet"),s=n("ion-picker"),r=n("ion-popover"),i=(t,n)=>customElements.whenDefined(t).then(()=>{const e=document,a=e.createElement(t);c(e),Object.assign(a,n),a.classList.add("overlay-hidden");const s=o++;return a.overlayIndex=s,a.hasAttribute("id")||(a.id=`ion-overlay-${s}`),l(e).appendChild(a),a.componentOnReady()}),c=t=>{0===o&&(o=1,t.addEventListener("focusin",o=>{const n=d(t);if(n&&n.backdropDismiss&&!b(n,o.target)){const t=n.querySelector("input,button");t&&t.focus()}}),t.addEventListener("ionBackButton",o=>{const n=d(t);n&&n.backdropDismiss&&o.detail.register(100,()=>n.dismiss(void 0,j))}),t.addEventListener("keyup",o=>{if("Escape"===o.key){const o=d(t);o&&o.backdropDismiss&&o.dismiss(void 0,j)}}))},u=(t,o,n,e,a)=>{const s=d(t,e,a);return s?s.dismiss(o,n):Promise.reject("overlay does not exist")},d=(t,o,n)=>{const e=((t,o)=>{const n=Array.from(l(t).children).filter(t=>t.overlayIndex>0);return void 0===o?n:(o=o.toUpperCase(),n.filter(t=>t.tagName===o))})(t,o);return void 0===n?e[e.length-1]:e.find(t=>t.id===n)},p=async(o,n,e,a,s)=>{if(o.presented)return;o.presented=!0,o.willPresent.emit();const r=o.enterAnimation?o.enterAnimation:t.get(n,"ios"===o.mode?e:a);await y(o,r,o.el,s)&&o.didPresent.emit()},f=async(o,n,e,a,s,r,i)=>{if(!o.presented)return!1;o.presented=!1;try{o.willDismiss.emit({data:n,role:e});const c=o.leaveAnimation?o.leaveAnimation:t.get(a,"ios"===o.mode?s:r);await y(o,c,o.el,i),o.didDismiss.emit({data:n,role:e})}catch(t){console.error(t)}return o.el.remove(),!0},l=t=>t.querySelector("ion-app")||t.body,y=async(o,n,e,a)=>{if(o.animation)return o.animation.destroy(),o.animation=void 0,!1;e.classList.remove("overlay-hidden");const s=e.shadowRoot||o.el,r=await __sc_import_chat("./p-d3aa5dba.js").then(t=>t.create(n,s,a));o.animation=r,o.animated&&t.getBoolean("animated",!0)||r.duration(0),o.keyboardClose&&r.beforeAddWrite(()=>{const t=e.ownerDocument.activeElement;t&&t.matches("input, ion-input, ion-textarea")&&t.blur()}),await r.playAsync();const i=r.hasCompleted;return r.destroy(),o.animation=void 0,i},m=(t,o)=>{let n;const e=new Promise(t=>n=t);return v(t,o,t=>{n(t.detail)}),e},v=(t,o,n)=>{const e=a=>{t.removeEventListener(o,e),n(a)};t.addEventListener(o,e)},h=t=>"cancel"===t||t===j,b=(t,o)=>{for(;o;){if(o===t)return!0;o=o.parentElement}return!1},w=t=>t(),_=(o,n)=>{if("function"==typeof o)return t.get("_zoneGate",w)(()=>{try{return o(n)}catch(t){console.error(t)}})},j="backdrop";export{j as B,u as a,s as b,i as c,f as d,m as e,r as f,d as g,a as h,h as i,e as j,p,_ as s};